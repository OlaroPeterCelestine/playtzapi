FIX CORS FOR VERCEL DEPLOYMENT
==============================

ISSUE:
Your Vercel frontend (https://playtzadmin.vercel.app) is being blocked by CORS.

SOLUTION:
Add the Vercel origin to Railway's CORS_ORIGINS environment variable.

STEP 1: Add Environment Variable in Railway
------------------------------------------
1. Go to Railway dashboard
2. Select your API service
3. Go to "Variables" tab
4. Add/Update this variable:

   Variable Name: CORS_ORIGINS
   Variable Value: http://localhost:3000,http://localhost:3001,http://localhost:5173,http://localhost:8080,https://playtzadmin.vercel.app

STEP 2: Restart Railway Service
--------------------------------
1. In Railway dashboard, click "Deployments"
2. Click "Redeploy" or restart the service
3. Wait for deployment to complete

STEP 3: Verify
--------------
After Railway restarts, test from Vercel:
- CORS errors should be gone
- Login should work

CURRENT STATUS:
--------------
✅ Code updated to include Vercel origin in defaults
⚠️  Railway environment variable needs to be set
⚠️  502 error indicates Railway server is not running

FIX 502 ERROR:
--------------
The 502 Bad Gateway means Railway server is not running.

1. Check Railway logs for errors
2. Verify DATABASE_URL is set correctly
3. Ensure all required environment variables are set
4. Restart the Railway service

REQUIRED RAILWAY ENVIRONMENT VARIABLES:
----------------------------------------
- DATABASE_URL (PostgreSQL connection string)
- CORS_ORIGINS (comma-separated list of allowed origins)
- PORT (optional, defaults to 8080)
- CLOUDINARY_CLOUD_NAME (for image uploads)
- CLOUDINARY_API_KEY (for image uploads)
- CLOUDINARY_API_SECRET (for image uploads)

TEST AFTER FIX:
---------------
Once Railway is running and CORS is fixed:

1. Test login from Vercel:
   POST https://playtzapi-production.up.railway.app/api/v1/auth/login
   Body: {"username":"admin","password":"admin123"}

2. Check CORS headers in response:
   Access-Control-Allow-Origin: https://playtzadmin.vercel.app

